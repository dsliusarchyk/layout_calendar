// Змінні
$day-size: 100px; // Розмір одного дня (ширина і висота).
$day-border-color: #000; // Колір рамки дня.
$day-bg-color: #eee; // Колір фону дня.
$day-hover-color: #ffbfcb; // Колір фону при наведенні.
$day-font-color: #000; // Колір тексту в днях.
$day-font-size: 30px; // Розмір шрифту тексту в днях.
$day-font-family: Arial, 'Helvetica Neue', Helvetica, sans-serif; // Шрифт тексту в днях.
$calendar-gap: 1px; // Відстань між днями в календарі.
$transition-duration: 0.5s; // Тривалість анімацій переходів.
$columns: 7; // Кількість колонок у календарі.
$calendar-padding: 10px; // Внутрішній відступ для календаря.
$calendar-width: calc(#{$columns * $day-size} + #{$calendar-gap * ($columns - 1)} + #{$calendar-padding * 2});

// Загальна ширина календаря.

// Зміщення для днів тижня
$days: (
  'mon': 0,
  // Початок з понеділка (без зміщення).
  'tue': 1,
  // Зміщення на 1 колонку для вівторка.
  'wed': 2,
  // Зміщення на 2 колонки для середи.
  'thu': 3,
  // Зміщення на 3 колонки для четверга.
  'fri': 4,
  // Зміщення на 4 колонки для п’ятниці.
  'sat': 5,
  // Зміщення на 5 колонок для суботи.
  'sun': 6, // Зміщення на 6 колонок для неділі.
);

// Загальні стилі
body {
  display: flex; // Використання flexbox для центрування вмісту.
  justify-content: center; // Центрування по горизонталі.
  align-items: center; // Центрування по вертикалі.
  height: 100vh; // Висота сторінки на весь екран.
  margin: 0; // Видалення зовнішніх відступів.
  font-family: $day-font-family; // Шрифт для всього тіла сторінки.
}

.calendar {
  display: flex; // Встановлює flexbox для календаря.
  flex-wrap: wrap; // Дозволяє рядкам переходити на новий рядок.
  gap: $calendar-gap; // Відстань між днями.
  width: $calendar-width; // Ширина календаря.
  padding: $calendar-padding; // Внутрішні відступи календаря.
  box-sizing: border-box; // Включає padding і border в загальний розмір.
  position: relative; // Для позиціонування дочірніх елементів.

  &__day {
    box-sizing: border-box; // Включає padding і border в розміри.
    width: $day-size; // Ширина дня.
    height: $day-size; // Висота дня.
    border: 1px solid $day-border-color; // Рамка для кожного дня.
    background-color: $day-bg-color; // Початковий фон.
    display: flex; // Використання flexbox для центрування тексту.
    justify-content: center; // Центрування по горизонталі.
    align-items: center; // Центрування по вертикалі.
    position: relative; // Для коректної роботи псевдоелементів.
    cursor: pointer; // Зміна курсора при наведенні.
    will-change: transform, background-color; // Оптимізація анімацій.
    transition:
      transform $transition-duration,
      background-color $transition-duration;

    &::before {
      content: ''; // Порожній вміст, буде замінено числом.
      display: block; // Блоковий елемент для тексту.
      font-size: $day-font-size; // Розмір тексту.
      font-family: $day-font-family; // Шрифт тексту.
      color: $day-font-color; // Колір тексту.
    }

    &:hover {
      background-color: $day-hover-color; // Зміна кольору фону при наведенні.
      transform: translateY(-20px); // Підняття елемента при наведенні.
    }

    // Генерація чисел для днів
    &:nth-child(1)::before {
      content: '1'; // Текст для першого дня.
    }

    @for $i from 2 through 31 {
      &:nth-child(#{$i})::before {
        content: '#{$i}'; // Автоматичне додавання номерів для днів.
      }
    }
  }

  // Зміщення для першого дня тижня з використанням циклу @each
  @each $day, $number in $days {
    &--start-day-#{$day} .calendar__day:first-child {
      margin-left: #{(($day-size + $calendar-gap) * $number)}; // Розраховує зміщення залежно від першого дня тижня.
    }
  }

  // Приховання зайвих днів у місяцях
  &--month-length-28 .calendar__day:nth-child(n + 29),
  &--month-length-29 .calendar__day:nth-child(n + 30),
  &--month-length-30 .calendar__day:nth-child(n + 31),
  &--month-length-31 .calendar__day:nth-child(n + 32) {
    display: none; // Ховає зайві дні для коротких місяців.
  }
}
